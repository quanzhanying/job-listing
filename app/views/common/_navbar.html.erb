<nav class="navbar stroke">
  <header class='logo'>
    <a href='/'><img src="/images/logo.png"></a>
  </header>
  <div class="container-fluid">

    <ul class="nav navbar-nav">
      <li class="<%= current_class?(jobs_path) %>"><%= link_to('Jobs', jobs_path) %></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <% if !current_user %>
      <li><a href="#" data-toggle="modal" data-target="#signup-modal">註冊</a></li>
      <!-- <li class="<%= current_class?(new_user_session_path) %>"><%= link_to('登入', new_user_session_path) %></li> -->
      <li><a href="#" data-toggle="modal" data-target="#login-modal">登入</a></li>
      <% else %>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><%= current_user.email %>
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <% if current_user.is_admin %>
          <li> <%= link_to("管理頁面", admin_jobs_path) %> </li>
          <% end %>
          <li> <%= link_to("登出", destroy_user_session_path, method: :delete) %> </li>
        </ul>
      </li>
      <% end %>
    </ul>
  </div>
</nav>
<div class="modal fade" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
  style="display: none;">
  <div class="modal-dialog" role="document">
    <div class="loginmodal-container">
      <h2>Log in</h2>
      <%= simple_form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
      <div class="form-inputs">
        <%= f.input :email, required: false, autofocus: true %>
        <%= f.input :password, required: false %>
        <%= f.input :remember_me, as: :boolean if devise_mapping.rememberable? %>
      </div>
      <div class="form-actions">
        <%= f.button :submit, "Log in" %>
      </div>
      <% end %>
    </div>
  </div>
</div>

<div class="modal fade" id="signup-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
  style="display: none;">
  <div class="modal-dialog">
    <div class="loginmodal-container">
      <h2>Sign up</h2>
      <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
      <%= f.error_notification %>
      <div class="form-inputs">
        <%= f.input :email, required: true, autofocus: true %>
        <%= f.input :password, required: true, hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length) %>
        <%= f.input :password_confirmation, required: true %>
      </div>
      <div class="form-actions">
        <%= f.button :submit, "Sign up" %>
      </div>
      <% end %>
    </div>
  </div>
</div>